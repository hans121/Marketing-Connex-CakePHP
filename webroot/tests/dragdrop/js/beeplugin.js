!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.BeePlugin=b()}(this,function(){"use strict";var a=new function(){var a="https://eu-bee-front.s3.amazonaws.com/index.html",b="https://beefree.s3.amazonaws.com/public/img/loading.gif",c={},d={},e={},f={},g={},h={},i=function(){for(var a in e)e.hasOwnProperty(a)&&"function"!=typeof e[a]&&(f[a]=e[a])},j=function(a){var b=a&&a.data&&a.data.action&&a.data.args,c="function"==typeof e[a.data.action];b&&c&&e[a.data.action].apply(window,a.data.args)},k=function(){window.removeEventListener("message",j),window.addEventListener("message",j)},l=function(a,b){d=a||{},e=b||{},e.container=e.container||"bee-plugin"},m=function(){c=document.createElement("div"),c.setAttribute("style",'height:100%;width:100%;border:0px;background: #32373A url("'+b+'") no-repeat fixed center;')},n=function(){g=document.createElement("iframe"),g.setAttribute("style","height:0px;width:0px;position:absolute;left:-9999px;"),g.src=a},o=function(a,b){g.contentWindow.postMessage({action:a,data:b},"*")},p=function(){var a=this&&"function"==typeof this;a&&this(q)},q={start:function(a){c.setAttribute("style","height:0px;width:0px;position:absolute;left:-9999px;"),g.setAttribute("style","height:100%;width:100%;min-width:1024px;border:0px;"),a&&o("load",a)},load:function(a){o("load",a)},save:function(){o("save",{})},saveAsTemplate:function(){o("saveAsTemplate",{})},send:function(){o("send",{})}};this.create=function(a,b,j){l(a,b),h=document.getElementById(e.container),h?(i(),k(),m(),n(),g.onload=function(){e.onInit=p.bind(j),o("init",{token:d,config:f})},h.appendChild(c),h.appendChild(g)):console.error("Container not specified or invalid. Application cannot start.")}};return a});